<?xml version='1.0'?>

<launch>

  <!-- Load joint controller configurations from YAML file to parameter server -->
  
  <!--<include file="$(find racecar_simulator)/launch/simulate.launch"/>-->
  

  <node name="serial_comm" pkg="rosserial_python" type="serial_node.py">
    <param name="port" value="/dev/ttyUSB0"/>
    <param name="baud" value="115200"/>
  </node>

  <node pkg="tf" type="static_transform_publisher" name="laser_link_broadcaster" args="0 0 0 0 0 0 1 base_link base_laser_link 100" />
  <!--<node pkg="tf" type="static_transform_publisher" name="odom_broadcaster" args="0 0 0 0 0 0 1 odom base_link 100" />-->
  <!--<node pkg="tf" type="static_transform_publisher" name="base_broadcaster" args="0 0 0 0 0 0 1 base_link base_footprint 100" />-->
  <node pkg="tf" type="static_transform_publisher" name="imu_broadcaster" args="0 0 0 0 0 0 1 base_link imu 100" />

  <node name="driver" pkg="ackermann_rc" type="ackermann_to_morse" output="screen" required="true">
    <rosparam file="$(find ackermann_rc)/param/rc_params_simulator.yaml" command="load"/>
  </node>

  
<node pkg="gmapping" type="slam_gmapping" name="gmapping_node" output="screen" >
  <remap from="scan" to="base_scan" />
  <param name="maxURange" value="200.0" type="double"/>
  <param name="maxRange" value="230.0" type="double"/>
  <param name="xmin" value="-10" type="double"/>
  <param name="xmax" value="10" type="double"/>
  <param name="ymin" value="-10" type="double"/>
  <param name="ymax" value="10" type="double"/>
  <param name="particles" value="100" type="int"/>
  <param name="map_update_interval" value="2.0" type="double"/>
  <param name="minimumScore" value="20.0" type="double"/>
  <param name="linearUpdate" value="0.5" type="double"/>
  <param name="base_frame" value="/base_link" />
</node>

</launch>